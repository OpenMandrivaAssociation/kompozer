
 https://bugs.gentoo.org/show_bug.cgi?id=280615
 http://svn.python.org/view?view=rev&revision=74429

--- mozilla/parser/expat/lib/xmltok_impl.c	2009-05-02 18:40:56.000000000 +0200
+++ mozilla/parser/expat/lib/xmltok_impl.c.oden	2009-11-13 17:59:04.000000000 +0100
@@ -1741,7 +1741,7 @@ PREFIX(updatePosition)(const ENCODING *e
                        const char *end,
                        POSITION *pos)
 {
-  while (ptr != end) {
+  while (ptr < end) {
     switch (BYTE_TYPE(enc, ptr)) {
 #define LEAD_CASE(n) \
     case BT_LEAD ## n: \
